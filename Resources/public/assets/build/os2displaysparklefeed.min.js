/**
 * @name os2displaysparklefeed
 * @version v0.1.1
 * @link https://github.com/itk-os2display/sparkle-feed-bundle
 */
angular.module("sparkleModule",[]),angular.module("sparkleModule").directive("sparkle",["$timeout","$http",function(l,a){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&"},link:function(s,e,t){s.feeds=[],s.saving=!1,a.get("/sparkle/feeds").then(function(e){l(function(){s.feeds=e.data.feeds})}),s.selectFeed=function(e){s.slide.options.selectedFeed=e.id},s.closeTool=function(){s.saving=!0,a.get("/sparkle/feed/"+s.slide.options.selectedFeed).then(function(t){l(function(){if(t.data&&0<t.data.feeds.length){var e=t.data.feeds[0];s.slide.options.firstElement={text:e.text,textMarkup:e.textMarkup,mediaUrl:e.mediaUrl,videoUrl:e.videoUrl,username:e.username,createdTime:e.createdTime}}s.saving=!1,s.close()})})}},templateUrl:"/bundles/os2displaysparklefeed/apps/sparkle/sparkle.html"}}]);